ğŸ–ŠLINUX_SYSCALL $128
ğŸ–ŠST_ARG $8

ğŸ“¥ $5                # argument for factorial
ğŸ“ âœ‰factorial

â—€ â• $4               # get rid of the argument added to the stack
ğŸ”´ â¬… âšª              # set return code

âšª â¬… $1              # set exit syscall code
â— LINUX_SYSCALL     # interrupt

ğŸ“ªfactorial:
ğŸ“¥ â¬‡                 # save ebp
â¬‡ â¬… â—€                # set new ebp

âšª â¬… ST_ARG~â¬‡        # retrieve argument to function

âš– âšª, $1            # end if all multiplications are done
ğŸ¦˜= âœ‰end_factorial

âšª â– $1             # decrement before multiplying again
ğŸ“¥ âšª                # add argument to stack for next call

ğŸ“ âœ‰factorial       # call factorial recursively
ğŸ”´ â¬… ST_ARG~â¬‡        # load the original argument again

âšª âœ– ğŸ”´              # multiply

ğŸ“ªend_factorial:
â—€ â¬… â¬‡                # restore the stack pointer
ğŸ“¤ â¬‡                 # restore the base pointer
ğŸ                    # return
